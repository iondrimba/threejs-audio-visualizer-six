!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){},function(t,e,n){"use strict";n.r(e);n(0);function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.callback=null}return function(t,e,n){e&&r(t.prototype,e),n&&r(t,n)}(t,[{key:"load",value:function(t){var e=this,n=new XMLHttpRequest;n.open("GET",t,!0),n.onprogress=function(t){var n=Math.floor(t.loaded/t.total*100);e.callback(n)},n.onload=function(){e.complete(t)},n.send()}},{key:"progress",value:function(t){this.callback=t}},{key:"complete",value:function(){}}]),t}(),o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function a(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var u=function(){return(u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]])}return n}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var c=function(){return(c=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},f=function(t,e){return function(n){return Math.max(Math.min(n,e),t)}},l=function(t){return function(e){return"string"==typeof e&&0===e.indexOf(t)}},p=function(t){return t%1?Number(t.toFixed(5)):t},h={test:function(t){return"number"==typeof t},parse:parseFloat,transform:function(t){return t}},d=(c({},h,{transform:f(0,1)}),c({},h,{default:1}),function(t){return{test:function(e){return"string"==typeof e&&e.endsWith(t)&&1===e.split(" ").length},parse:parseFloat,transform:function(e){return""+e+t}}}),y=d("deg"),v=d("%"),m=d("px"),g=d("vh"),b=d("vw"),w=f(0,255),E=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))$/i,S=function(t){return void 0!==t.red},C=function(t){return void 0!==t.hue},O=function(t){var e=t.length;return function(n){if("string"!=typeof n)return n;for(var r={},i=function(t){return"string"==typeof t?t.split(/,\s*/):[t]}(function(t){return t.substring(t.indexOf("(")+1,t.lastIndexOf(")"))}(n)),o=0;o<e;o++)r[t[o]]=void 0!==i[o]?parseFloat(i[o]):1;return r}},k=c({},h,{transform:function(t){return Math.round(w(t))}}),M=l("rgb"),P={test:function(t){return"string"==typeof t?M(t):S(t)},parse:O(["red","green","blue","alpha"]),transform:function(t){var e=t.red,n=t.green,r=t.blue,i=t.alpha;return function(t){var e=t.red,n=t.green,r=t.blue,i=t.alpha;return"rgba("+e+", "+n+", "+r+", "+(void 0===i?1:i)+")"}({red:k.transform(e),green:k.transform(n),blue:k.transform(r),alpha:p(i)})}},R=l("hsl"),T={test:function(t){return"string"==typeof t?R(t):C(t)},parse:O(["hue","saturation","lightness","alpha"]),transform:function(t){var e=t.hue,n=t.saturation,r=t.lightness,i=t.alpha;return function(t){var e=t.hue,n=t.saturation,r=t.lightness,i=t.alpha;return"hsla("+e+", "+n+", "+r+", "+(void 0===i?1:i)+")"}({hue:Math.round(e),saturation:v.transform(p(n)),lightness:v.transform(p(r)),alpha:p(i)})}},H=c({},P,{test:l("#"),parse:function(t){var e="",n="",r="";return t.length>4?(e=t.substr(1,2),n=t.substr(3,2),r=t.substr(5,2)):(e=t.substr(1,1),n=t.substr(2,1),r=t.substr(3,1),e+=e,n+=n,r+=r),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:1}}}),L={test:function(t){return"string"==typeof t&&E.test(t)||P.test(t)||T.test(t)||H.test(t)},parse:function(t){return P.test(t)?P.parse(t):T.test(t)?T.parse(t):H.test(t)?H.parse(t):t},transform:function(t){return S(t)?P.transform(t):C(t)?T.transform(t):t}},A=/(-)?(\d[\d\.]*)/g,x=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,j=function(t){if("string"!=typeof t||!isNaN(t))return!1;var e=0,n=t.match(A),r=t.match(x);return n&&(e+=n.length),r&&(e+=r.length),e>0},V=function(t){var e=t,n=[],r=e.match(x);r&&(e=e.replace(x,"${c}"),n.push.apply(n,r.map(L.parse)));var i=e.match(A);return i&&n.push.apply(n,i.map(h.parse)),n},F=function(t){var e=t,n=0,r=t.match(x),i=r?r.length:0;if(r)for(var o=0;o<i;o++)e=e.replace(r[o],"${c}"),n++;var a=e.match(A),u=a?a.length:0;if(a)for(o=0;o<u;o++)e=e.replace(a[o],"${n}"),n++;return function(t){for(var r=e,o=0;o<n;o++)r=r.replace(o<i?"${c}":"${n}",o<i?L.transform(t[o]):p(t[o]));return r}},q=function(){};q=function(t,e){if(!t)throw new Error("Hey, listen! ".toUpperCase()+e)};var _,B=0,D="undefined"!=typeof window&&void 0!==window.requestAnimationFrame?function(t){return window.requestAnimationFrame(t)}:function(t){var e=Date.now(),n=Math.max(0,16.7-(e-B));B=e+n,setTimeout(function(){return t(B)},n)};!function(t){t.Read="read",t.Update="update",t.Render="render",t.PostRender="postRender",t.FixedUpdate="fixedUpdate"}(_||(_={}));var G=1/60*1e3,I=!0,Y=!1,X=!1,z={delta:0,timestamp:0},U=[_.Read,_.Update,_.Render,_.PostRender],W=function(t){return Y=t},$=U.reduce(function(t,e){var n=function(t){var e=[],n=[],r=0,i=!1,o=0,a=new WeakSet,u=new WeakSet,s={cancel:function(t){var e=n.indexOf(t);a.add(t),-1!==e&&n.splice(e,1)},process:function(c){var f,l;if(i=!0,e=(f=[n,e])[0],(n=f[1]).length=0,r=e.length)for(o=0;o<r;o++)(l=e[o])(c),!0!==u.has(l)||a.has(l)||(s.schedule(l),t(!0));i=!1},schedule:function(t,o,a){q("function"==typeof t,"Argument must be a function");var s=a&&i,c=s?e:n;o&&u.add(t),-1===c.indexOf(t)&&(c.push(t),s&&(r=e.length))}};return s}(W);return t.sync[e]=function(t,e,r){return void 0===e&&(e=!1),void 0===r&&(r=!1),Y||tt(),n.schedule(t,e,r),t},t.cancelSync[e]=function(t){return n.cancel(t)},t.steps[e]=n,t},{steps:{},sync:{},cancelSync:{}}),N=$.steps,K=$.sync,J=$.cancelSync,Q=function(t){return N[t].process(z)},Z=function(t){Y=!1,z.delta=I?G:Math.max(Math.min(t-z.timestamp,40),1),I||(G=z.delta),z.timestamp=t,X=!0,U.forEach(Q),X=!1,Y&&(I=!1,D(Z))},tt=function(){Y=!0,I=!0,X||D(Z)},et=function(){return z},nt=K;var rt=function(t){return"number"==typeof t},it=function(t){return function(e,n,r){return void 0!==r?t(e,n,r):function(r){return t(e,n,r)}}},ot=it(function(t,e,n){return Math.min(Math.max(n,t),e)}),at=function(t,e,n){return-n*t+n*e+t},ut=function(){return(ut=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},st=function(t,e,n){var r=t*t,i=e*e;return Math.sqrt(n*(i-r)+r)},ct=[H,P,T],ft=function(t){return ct.find(function(e){return e.test(t)})},lt=function(t,e){var n=ft(t),r=ft(e);q(n.transform===r.transform,"Both colors must be Hex and/or RGBA, or both must be HSLA");var i=n.parse(t),o=r.parse(e),a=ut({},i),u=n===T?at:st;return function(t){for(var e in a)"alpha"!==e&&(a[e]=u(i[e],o[e],t));return a.alpha=at(i.alpha,o.alpha,t),n.transform(a)}},pt=function(t,e){return function(n){return e(t(n))}},ht=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.reduce(pt)},dt=function(t,e){var n=t.slice(),r=n.length,i=t.map(function(t,n){var r=e[n];return rt(t)?function(e){return at(t,r,e)}:L.test(t)?lt(t,r):yt(t,r)});return function(t){for(var e=0;e<r;e++)n[e]=i[e](t);return n}},yt=function(t,e){var n=F(t);return q(n(t)===F(e)(t),"Values '"+t+"' and '"+e+"' are of different format, or a value might have changed value type."),ht(dt(V(t),V(e)),n)},vt=(it(at),function(t){return t}),mt=function(t){return void 0===t&&(t=vt),it(function(e,n,r){var i=n-r,o=-(0-e+1)*(0-t(Math.abs(i)));return i<=0?n+o:n-o})},gt=(mt(),mt(Math.sqrt),function(t,e){return rt(t)?t/(1e3/e):0}),bt=function(t,e){return e?t*(1e3/e):0};it(function(t,e,n){var r=e-t;return((n-t)%r+r)%r+t}),ot(0,1);var wt=function(){function t(t){void 0===t&&(t={}),this.props=t}return t.prototype.applyMiddleware=function(t){return this.create(u({},this.props,{middleware:this.props.middleware?[t].concat(this.props.middleware):[t]}))},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=1===t.length?t[0]:ht.apply(void 0,t);return this.applyMiddleware(function(t){return function(e){return t(n(e))}})},t.prototype.while=function(t){return this.applyMiddleware(function(e,n){return function(r){return t(r)?e(r):n()}})},t.prototype.filter=function(t){return this.applyMiddleware(function(e){return function(n){return t(n)&&e(n)}})},t}(),Et=function(){return function(t,e){var n=t.middleware,r=t.onComplete,i=this;this.isActive=!0,this.update=function(t){i.observer.update&&i.updateObserver(t)},this.complete=function(){i.observer.complete&&i.isActive&&i.observer.complete(),i.onComplete&&i.onComplete(),i.isActive=!1},this.error=function(t){i.observer.error&&i.isActive&&i.observer.error(t),i.isActive=!1},this.observer=e,this.updateObserver=function(t){return e.update(t)},this.onComplete=r,e.update&&n&&n.length&&n.forEach(function(t){return i.updateObserver=t(i.updateObserver,i.complete)})}}(),St=function(t,e,n){var r=e.middleware;return new Et({middleware:r,onComplete:n},"function"==typeof t?{update:t}:t)},Ct=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.create=function(t){return new e(t)},e.prototype.start=function(t){void 0===t&&(t={});var e=!1,n={stop:function(){}},r=this.props,i=r.init,o=s(r,["init"]),a=i(St(t,o,function(){e=!0,n.stop()}));return n=a?u({},n,a):n,t.registerParent&&t.registerParent(n),e&&n.stop(),n},e}(wt),Ot=function(t){return new Ct({init:t})},kt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.subscribers=[],e}return a(e,t),e.prototype.complete=function(){this.subscribers.forEach(function(t){return t.complete()})},e.prototype.error=function(t){this.subscribers.forEach(function(e){return e.error(t)})},e.prototype.update=function(t){for(var e=0;e<this.subscribers.length;e++)this.subscribers[e].update(t)},e.prototype.subscribe=function(t){var e=this,n=St(t,this.props);return this.subscribers.push(n),{unsubscribe:function(){var t=e.subscribers.indexOf(n);-1!==t&&e.subscribers.splice(t,1)}}},e.prototype.stop=function(){this.parent&&this.parent.stop()},e.prototype.registerParent=function(t){this.stop(),this.parent=t},e}(wt),Mt=function(t){return Array.isArray(t)},Pt=function(t){var e=typeof t;return"string"===e||"number"===e},Rt=function(t){function e(e){var n=t.call(this,e)||this;return n.scheduleVelocityCheck=function(){return nt.postRender(n.velocityCheck)},n.velocityCheck=function(t){t.timestamp!==n.lastUpdated&&(n.prev=n.current)},n.prev=n.current=e.value||0,Pt(n.current)?(n.updateCurrent=function(t){return n.current=t},n.getVelocityOfCurrent=function(){return n.getSingleVelocity(n.current,n.prev)}):Mt(n.current)?(n.updateCurrent=function(t){return n.current=t.slice()},n.getVelocityOfCurrent=function(){return n.getListVelocity()}):(n.updateCurrent=function(t){for(var e in n.current={},t)t.hasOwnProperty(e)&&(n.current[e]=t[e])},n.getVelocityOfCurrent=function(){return n.getMapVelocity()}),e.initialSubscription&&n.subscribe(e.initialSubscription),n}return a(e,t),e.prototype.create=function(t){return new e(t)},e.prototype.get=function(){return this.current},e.prototype.getVelocity=function(){return this.getVelocityOfCurrent()},e.prototype.update=function(e){t.prototype.update.call(this,e),this.prev=this.current,this.updateCurrent(e);var n=et(),r=n.delta,i=n.timestamp;this.timeDelta=r,this.lastUpdated=i,nt.postRender(this.scheduleVelocityCheck)},e.prototype.subscribe=function(e){var n=t.prototype.subscribe.call(this,e);return this.update(this.current),n},e.prototype.getSingleVelocity=function(t,e){return"number"==typeof t&&"number"==typeof e?bt(t-e,this.timeDelta):bt(parseFloat(t)-parseFloat(e),this.timeDelta)||0},e.prototype.getListVelocity=function(){var t=this;return this.current.map(function(e,n){return t.getSingleVelocity(e,t.prev[n])})},e.prototype.getMapVelocity=function(){var t={};for(var e in this.current)this.current.hasOwnProperty(e)&&(t[e]=this.getSingleVelocity(this.current[e],this.prev[e]));return t},e}(kt),Tt=function(t){var e=t.getCount,n=t.getFirst,r=t.getOutput,i=t.mapApi,o=t.setProp,a=t.startActions;return function(t){return Ot(function(u){var s=u.update,c=u.complete,f=u.error,l=e(t),p=r(),h=function(){return s(p)},d=0,y=a(t,function(t,e){var n=!1;return t.start({complete:function(){n||(n=!0,++d===l&&nt.update(c))},error:f,update:function(t){o(p,e,t),nt.update(h,!1,!0)}})});return Object.keys(n(y)).reduce(function(t,e){return t[e]=i(y,e),t},{})})}},Ht=Tt({getOutput:function(){return{}},getCount:function(t){return Object.keys(t).length},getFirst:function(t){return t[Object.keys(t)[0]]},mapApi:function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return Object.keys(t).reduce(function(r,i){var o;return t[i][e]&&(n[0]&&void 0!==n[0][i]?r[i]=t[i][e](n[0][i]):r[i]=(o=t[i])[e].apply(o,n)),r},{})}},setProp:function(t,e,n){return t[e]=n},startActions:function(t,e){return Object.keys(t).reduce(function(n,r){return n[r]=e(t[r],r),n},{})}}),Lt=Tt({getOutput:function(){return[]},getCount:function(t){return t.length},getFirst:function(t){return t[0]},mapApi:function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.map(function(t,r){if(t[e])return Array.isArray(n[0])?t[e](n[0][r]):t[e].apply(t,n)})}},setProp:function(t,e,n){return t[e]=n},startActions:function(t,e){return t.map(function(t,n){return e(t,n)})}}),At=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Lt(t)},xt=[m,v,y,g,b],jt=function(t){return xt.find(function(e){return e.test(t)})},Vt=function(t,e){return t(e)},Ft=function(t,e,n){var r=n[0],i=e[r].map(function(r,i){var o=n.reduce(function(t){return function(e,n){return e[n]=e[n][t],e}}(i),u({},e));return It(r)(t,o)});return At.apply(void 0,i)},qt=function(t,e,n){var r=n[0],i=Object.keys(e[r]).reduce(function(i,o){var a=n.reduce(function(t){return function(e,n){return e[n]=e[n][t],e}}(o),u({},e));return i[o]=It(e[r][o])(t,a),i},{});return Ht(i)},_t=function(t,e){var n=e.from,r=e.to,i=s(e,["from","to"]),o=jt(n)||jt(r),a=o.transform,c=o.parse;return t(u({},i,{from:"string"==typeof n?c(n):n,to:"string"==typeof r?c(r):r})).pipe(a)},Bt=function(t,e){var n=e.from,r=e.to,i=s(e,["from","to"]);return t(u({},i,{from:0,to:1})).pipe(lt(n,r),L.transform)},Dt=function(t,e){var n=e.from,r=e.to,i=s(e,["from","to"]),o=F(n);return q(o(n)===F(r)(n),"Values '"+n+"' and '"+r+"' are of different format, or a value might have changed value type."),t(u({},i,{from:0,to:1})).pipe(dt(V(n),V(r)),o)},Gt=function(t,e){var n=function(t){var e=Object.keys(t),n=function(e,n){return void 0!==e&&!t[n](e)};return{getVectorKeys:function(t){return e.reduce(function(e,r){return n(t[r],r)&&e.push(r),e},[])},testVectorProps:function(t){return t&&e.some(function(e){return n(t[e],e)})}}}(e),r=n.testVectorProps,i=n.getVectorKeys;return function(e){if(!r(e))return t(e);var n=i(e),o=e[n[0]];return It(o)(t,e,n)}},It=function(t){var e=Vt;return"number"==typeof t?e=Vt:Array.isArray(t)?e=Ft:!function(t){return Boolean(jt(t))}(t)?L.test(t)?e=Bt:j(t)?e=Dt:"object"==typeof t&&(e=qt):e=_t,e},Yt=Gt(function(t){return void 0===t&&(t={}),Ot(function(e){var n=e.complete,r=e.update,i=t.acceleration,o=void 0===i?0:i,a=t.friction,u=void 0===a?0:a,s=t.velocity,c=void 0===s?0:s,f=t.springStrength,l=t.to,p=t.restSpeed,h=void 0===p?.001:p,d=t.from,y=void 0===d?0:d,v=nt.update(function(t){var e=t.delta,i=Math.max(e,16);o&&(c+=gt(o,i)),u&&(c*=Math.pow(1-u,i/100)),void 0!==f&&void 0!==l&&(c+=(l-y)*gt(f,i)),y+=gt(c,i),r(y),!1!==h&&(!c||Math.abs(c)<=h)&&(J.update(v),n())},!0);return{set:function(t){return y=t,this},setAcceleration:function(t){return o=t,this},setFriction:function(t){return u=t,this},setSpringStrength:function(t){return f=t,this},setSpringTarget:function(t){return l=t,this},setVelocity:function(t){return c=t,this},stop:function(){return J.update(v)}}})},{acceleration:h.test,friction:h.test,velocity:h.test,from:h.test,to:h.test,springStrength:h.test}),Xt=function(t,e,n){return Ot(function(r){var i=r.update,o=e.split(" ").map(function(e){return t.addEventListener(e,i,n),e});return{stop:function(){return o.forEach(function(e){return t.removeEventListener(e,i,n)})}}})},zt=function(t,e){return void 0===e&&(e={clientX:0,clientY:0,pageX:0,pageY:0,x:0,y:0}),e.clientX=e.x=t.clientX,e.clientY=e.y=t.clientY,e.pageX=t.pageX,e.pageY=t.pageY,e},Ut=[{clientX:0,clientY:0,pageX:0,pageY:0,x:0,y:0}];if("undefined"!=typeof document){Xt(document,"touchstart touchmove",{passive:!0,capture:!0}).start(function(t){var e=t.touches;!0;var n=e.length;Ut.length=0;for(var r=0;r<n;r++){var i=e[r];Ut.push(zt(i))}})}var Wt={clientX:0,clientY:0,pageX:0,pageY:0,x:0,y:0};if("undefined"!=typeof document){Xt(document,"mousedown mousemove",!0).start(function(t){!0,zt(t,Wt)})}function $t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Nt=new(function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.songFile="https://iondrimbafilho.me/ready_player_one.mp3",this.percent=0,this.playing=!1,this.volume=1,this.sceneBackGroundColor=4000064,this.spotLightColor=16777215,this.ambientLightColor=16777215,this.groupSpheres=new THREE.Object3D,this.groupCones=new THREE.Object3D,this.tiles=[],this.loader=new i,this.loader.progress(function(t){e.progress(t)}),this.loaderBar=document.querySelector(".loader"),this.loader.load(this.songFile),this.playIntro=document.querySelector(".play-intro"),this.loader.complete=this.complete.bind(this)}return function(t,e,n){e&&$t(t.prototype,e),n&&$t(t,n)}(t,[{key:"progress",value:function(t){var e=this;this.loaderBar.style.transform="scale(".concat(t/100+.1,", .999)"),100===t&&setTimeout(function(){requestAnimationFrame(function(){e.playIntro.classList.add("control-show"),e.loaderBar.classList.add("removeLoader"),e.loaderBar.style.transform="scale(.999, 0)"})},800)}},{key:"complete",value:function(t){this.setupAudio(),this.addSoundControls(),this.createScene(),this.createCamera(),this.addAmbientLight(this.ambientLightColor),this.addSpotLight(new THREE.SpotLight(this.spotLightColor),50,400,50),this.addCameraControls(),this.playSound(t),this.addEventListener(),this.addGrid(),this.floorShape=this.createShape(),this.createGround(this.floorShape),this.animate()}},{key:"createShape",value:function(){var t=this,e=[new THREE.Vector2(-200,200),new THREE.Vector2(-200,-200),new THREE.Vector2(200,-200),new THREE.Vector2(200,200)],n=new THREE.Shape(e);n.autoClose=!0;var r=new THREE.SphereBufferGeometry(.5,16,16),i=new THREE.MeshPhongMaterial({color:3836159,specular:16777215,shininess:2,emissive:743353,side:THREE.DoubleSide});this.createHoles(n,{cols:{start:-4,end:5},rows:{start:-5,end:0},geometry:r,material:i,elementCreate:this.createSphere,onAdd:function(e,n,r,i,o){t.addPhysics(e),e.position.set(n-1*i,-.5,r-1*o),t.groupSpheres.add(e),t.tiles.push(e)}});var o=new THREE.CylinderGeometry(.4,.4,10,59),a=new THREE.MeshPhongMaterial({color:1244977,flatShading:THREE.FlatShading,side:THREE.DoubleSide});return this.createHoles(n,{cols:{start:-4,end:5},rows:{start:1,end:6},geometry:o,material:a,elementCreate:this.createCone,onAdd:function(e,n,r,i,o){e.position.set(n-1*i,-10,r-1*o),t.groupCones.add(e),t.tiles.push(e)}}),this.scene.add(this.groupSpheres),this.scene.add(this.groupCones),n}},{key:"createHoles",value:function(t,e){for(var n=function(t){return 1*-t},r=e.cols.start;r<e.cols.end;r++)for(var i=e.rows.start;i<e.rows.end;i++){var o=new THREE.Path,a=n(r),u=n(i);o.moveTo(a,u),o.ellipse(a,u,.5,.5,0,2*Math.PI),o.autoClose=!0,t.holes.push(o),e.onAdd(e.elementCreate(e.geometry,e.material),a,u,r,i)}}},{key:"createGround",value:function(t){var e=[new THREE.MeshStandardMaterial({color:16717942,roughness:1,metalness:.1,flatShading:THREE.FlatShading}),new THREE.MeshStandardMaterial({color:15934719,flatShading:THREE.FlatShading})],n=new THREE.ExtrudeGeometry(t,{steps:1,amount:4,bevelEnabled:!1}),r=new THREE.Mesh(n,e);r.rotation.set(.5*Math.PI,0,0),this.scene.add(r)}},{key:"drawWave",value:function(){var t=0,e=0,n=0;if(this.playing){this.analyser.getByteFrequencyData(this.frequencyData);for(var r=0;r<this.tiles.length;r++)e=this.frequencyData[r],this.tiles[r]&&this.tiles[r].hasPhysics&&!this.tiles[r].falling&&(t=this.map(e,0,255,-50,80),this.tiles[r].gravity.set(Math.min(0,this.tiles[r].posY.get())).setVelocity(-t),this.tiles[r].falling=!0),this.tiles[r]&&!this.tiles[r].hasPhysics&&(n=this.map(e,0,255,.001,2),TweenMax.to(this.tiles[r].scale,.4,{y:n}))}}},{key:"createSphere",value:function(t,e){var n=new THREE.Mesh(t,e);return n.position.y=0,n.castShadow=!0,n.receiveShadow=!0,n}},{key:"addPhysics",value:function(t){var e=function(t,e){return new Rt({value:t,initialSubscription:e})}(10,function(e){t.position.y=-Math.min(10,e)});t.posY=e,t.falling=!1,t.hasPhysics=!0;var n=Yt({acceleration:250,restSpeed:!1}).start(function(n){t.falling&&(n<10?e.update(n):t.falling=!1)});t.gravity=n}},{key:"createCone",value:function(t,e){var n=new THREE.Mesh(t,e);n.castShadow=!0,n.receiveShadow=!0,n.position.y=5;var r=new THREE.Object3D;return r.add(n),r.size=2,r}},{key:"addSpotLight",value:function(t,e,n,r){this.spotLight=t,this.spotLight.position.set(e,n,r),this.spotLight.castShadow=!0,this.scene.add(this.spotLight)}},{key:"addAmbientLight",value:function(t){var e=new THREE.AmbientLight(t,.5);this.scene.add(e)}},{key:"addGrid",value:function(){var t=new THREE.GridHelper(25,25);t.position.set(0,0,0),t.material.opacity=0,t.material.transparent=!0,this.scene.add(t)}},{key:"playSound",value:function(t){this.audioElement.src=t}},{key:"map",value:function(t,e,n,r,i){return(t-e)/(n-e)*(i-r)+r}},{key:"addSoundControls",value:function(){this.btnPlay=document.querySelector(".play"),this.btnPause=document.querySelector(".pause"),this.btnPlay.addEventListener("click",this.play.bind(this)),this.btnPause.addEventListener("click",this.pause.bind(this))}},{key:"pause",value:function(){this.audioElement.pause(),this.btnPause.classList.remove("control-show"),this.btnPlay.classList.add("control-show")}},{key:"play",value:function(){this.audioElement.play(),this.btnPlay.classList.remove("control-show"),this.btnPause.classList.add("control-show")}},{key:"createScene",value:function(){this.scene=new THREE.Scene,this.scene.background=new THREE.Color(this.sceneBackGroundColor),this.renderer=new THREE.WebGLRenderer({antialias:!0}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.scene1=new THREE.Scene,this.renderer.shadowMap.enabled=!0,this.renderer.shadowMap.type=THREE.PCFSoftShadowMap,document.body.appendChild(this.renderer.domElement)}},{key:"addEventListener",value:function(){var t=this;this.playIntro.addEventListener("click",function(e){e.currentTarget.classList.remove("control-show"),t.play()}),document.body.addEventListener("mouseup",function(){requestAnimationFrame(function(){document.body.style.cursor="-moz-grab",document.body.style.cursor="-webkit-grab"})}),document.body.addEventListener("mousedown",function(){requestAnimationFrame(function(){document.body.style.cursor="-moz-grabbing",document.body.style.cursor="-webkit-grabbing"})}),document.body.addEventListener("keyup",function(e){32!==e.keyCode&&"Space"!==e.code||(t.playIntro.classList.remove("control-show"),t.playing?t.pause():t.play())})}},{key:"createCamera",value:function(){this.camera=new THREE.PerspectiveCamera(45,window.innerWidth/window.innerHeight,1,1e3),this.camera.position.set(26,23,-17),this.scene.add(this.camera)}},{key:"addCameraControls",value:function(){this.controls=new THREE.OrbitControls(this.camera)}},{key:"animate",value:function(){this.controls.update(),this.renderer.render(this.scene,this.camera),this.drawWave(),requestAnimationFrame(this.animate.bind(this))}},{key:"radians",value:function(t){return t*Math.PI/180}},{key:"onResize",value:function(){var t=window.innerWidth,e=window.innerHeight;this.camera.aspect=t/e,this.camera.updateProjectionMatrix(),this.renderer.setSize(t,e)}},{key:"setupAudio",value:function(){var t=this;this.audioElement=document.getElementById("audio"),this.audioCtx=new(window.AudioContext||window.webkitAudioContext),this.analyser=this.audioCtx.createAnalyser(),this.analyser.smoothingTimeConstant=.4,this.source=this.audioCtx.createMediaElementSource(this.audioElement),this.source.connect(this.analyser),this.source.connect(this.audioCtx.destination),this.bufferLength=this.analyser.frequencyBinCount,this.waveform=new Uint8Array(this.analyser.fftSize),this.frequencyData=new Uint8Array(this.analyser.fftSize),this.audioElement.volume=this.volume,this.audioElement.addEventListener("playing",function(){t.playing=!0}),this.audioElement.addEventListener("pause",function(){t.playing=!1}),this.audioElement.addEventListener("ended",function(){t.playing=!1,t.pause()})}}]),t}());window.addEventListener("resize",Nt.onResize.bind(Nt))}]);